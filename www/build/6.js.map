{"version":3,"sources":["../../src/pages/patients-profile/patients-profile.module.ts","../../src/pages/patients-profile/patients-profile.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PatientsProfilePage } from './patients-profile';\n\n@NgModule({\n  declarations: [\n    PatientsProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PatientsProfilePage),\n  ],\n})\nexport class PatientsProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/patients-profile/patients-profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ItemSliding, AlertController, ToastController} from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport { GlobalProvider } from \"../../providers/global/global\";\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@IonicPage()\n@Component({\n  selector: 'page-patients-profile',\n  templateUrl: 'patients-profile.html',\n})\nexport class PatientsProfilePage {\n  ps = []; //patients\n\n  passwords = {\n    id:this.global.session,\n    // old:\"\",\n    // old2:\"\",\n    new1:\"\",\n    new2:\"\",\n  };\n\n  private passwordData: FormGroup;\n\n  constructor(\n    public global:GlobalProvider, \n    public navCtrl: NavController, \n    public navParams: NavParams, \n    public http: Http,\n    private formBuilder: FormBuilder,\n    public alertCtrl: AlertController,\n    public toastCtrl: ToastController,\n    ) {\n      this.patients();\n\n      var validators={\n        \"phone\":[Validators.required,Validators.pattern(\"[0-9]{9}\")],\n        \"db_int\":[Validators.required,Validators.pattern(\"[0-9]{1,5}\")], \n        \"money\":[Validators.required,Validators.min(1),Validators.max(99999)], \n        \"company\":[Validators.required,Validators.maxLength(15),Validators.minLength(2)],\n        \"fullname\":[Validators.required,Validators.pattern(\"[A-Za-z \\s]{5,30}\")],\n        \"name\":[Validators.required,Validators.pattern(\"[A-Za-z\\s]{2,15}\")],\n        \"email\":[Validators.required,Validators.pattern(\"[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})\")],\n        \"reg_number\":[Validators.required],\n        \"nat_id\":[Validators.required,Validators.pattern(\"[0-9]{8,9}[A-Z]{1}[0-9]{2}\")],\n        // \"nat_id\":[Validators.required,Validators.pattern(\"[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})\")],\n        \"surname\":[Validators.required,Validators.pattern(\"[A-Za-z\\s]{2,15}\")],\n        \"address\":[Validators.required,Validators.maxLength(100),Validators.minLength(10)],\n        \"password\":[Validators.required,Validators.minLength(8),Validators.maxLength(12)],\n        \"text\":[Validators.required,Validators.minLength(9),Validators.maxLength(256)],\n        \"username\":[Validators.required, Validators.pattern('[a-zA-Z ]*'), Validators.minLength(4), Validators.maxLength(10)],\n        \"old_password\":[Validators.required, Validators.pattern('[12341234]{8}')],\n      };\n  \n      this.passwordData=this.formBuilder.group(\n        {\n        // old: ['',],\n        // old2: ['',],\n        new1: ['',validators.password],\n        new2: [''],\n        form: ['']\n        }, \n        {validator: this.checkPasswords }\n      );\n  }\n\n  checkPasswords(group: FormGroup) { // here we have the 'passwords' group\n    let pass = group.get('new1').value;\n    let confirmPass = group.get('new2').value;\n    return pass === confirmPass ? null : { notSame: true }     \n  }\n\n  patients() {\n    this.http.get(this.global.serverAddress+\"patients.php?id=\"+this.global.session) \n      .subscribe(data => {\n        console.log(data[\"_body\"]);\n        this.ps=JSON.parse(data[\"_body\"]);\n      }, error => {\n        console.log(\"failed\");\n      }\n    );\n  }\n\n  updatePassword(){   \n    this.http.post(this.global.serverAddress+\"patients/_update-password.php\", JSON.stringify(this.passwords))\n    .subscribe(data => {\n      console.log(data[\"_body\"]);\n      let response=JSON.parse(data[\"_body\"]);\n      if(response.response==\"success\"){\n        let toast = this.toastCtrl.create({\n          message: 'Your password has been changed!',\n          duration: 6000,\n          position: 'top',\n          cssClass: 'dark-trans',\n          closeButtonText: 'OK',\n          showCloseButton: true\n        });\n        toast.present();\n        this.navCtrl.setRoot(PatientsProfilePage);\n      }else{\n        // let alert = this.alertCtrl.create({\n        //   title: 'Error',\n        //   subTitle: 'Ooh sorry, Your password could not be changed now, please try again',\n        //   buttons: ['Try Again']\n        // });\n        // alert.present();\n        let toast = this.toastCtrl.create({\n          message: 'Ooh sorry, Your password could not be changed now, please try again',\n          duration: 6000,\n          position: 'top',\n          cssClass: 'dark-trans',\n          closeButtonText: 'OK',\n          showCloseButton: true\n        });\n        toast.present();\n      }\n    }, error => {\n      // let alert = this.alertCtrl.create({\n      //   title: 'Signup Error',\n      //   subTitle: \"Network error. Make sure you are connected to the internet\",\n      //   buttons: ['Try Again']\n      // });\n      // alert.present();\n      let toast = this.toastCtrl.create({\n        message: 'Network error. Make sure you are connected to the internet',\n        duration: 6000,\n        position: 'top',\n        cssClass: 'dark-trans',\n        closeButtonText: 'OK',\n        showCloseButton: true\n      });\n      toast.present();\n    }\n    );\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PatientsProfilePage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/patients-profile/patients-profile.ts"],"sourceRoot":""}